
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
	<div class="container-fluid">
	<div class="alert alert-success" role="alert"><h1 style="font-family: serif;"><strong><span class="glyphicon glyphicon-star"></span></strong> Choose Tow Companies to compare !</h1></div>
		<div class="row fluid">
		
			<div class="col-md-6" style="width: 49%">
				<div class="col-md-6">
					<h:form><h:selectOneMenu value="#{compareBean.sectorN}"
						class="form-control">
						<f:selectItems value="#{compareBean.sectors}" var="sector"
							itemValue="#{sector.id}" itemLabel="#{sector.name}" />
							<f:ajax execute="@this" render="table2" listener="#{compareBean.SelectSector1}"></f:ajax>
					</h:selectOneMenu></h:form>
				</div>
				<div class="col-md-9">
					<h:dataTable value="#{compareBean.companies2}" var="l" id="table2"
						class=" table table-striped table-bordered  active">
						<thead >
							<h:column> 
								<f:facet name="header" > Companies name</f:facet>
								#{l.name}
							</h:column>
							<h:column> 
								<f:facet name="header" >  Closing Price</f:facet>
								#{l.quotation.closingPrice}
							</h:column>
							<h:column> 
								<f:facet name="header" >  Estimation</f:facet>
								#{l.quotation.estimation}
							</h:column>
							<h:column> 
								<f:facet name="header" > Choose</f:facet>
								<h:form><h:commandLink action="#{compareBean.selectCompany(l)}"  ><span class="glyphicon glyphicon-ok active"></span>
								<f:ajax render="table2" execute="@form"></f:ajax>
								<h:outputText value="Companie added" rendered="#{l.selected}" id="message2"/>
								</h:commandLink></h:form>
							</h:column>
						</thead>
					</h:dataTable>
				</div>
			</div>
			
			<div class="col-md-6" style="width: 49%">
				<div class="col-md-6">
				<h:form >
					<h:selectOneMenu value="#{compareBean.sectorN}"  id="change"
						class="form-control"  >
						<f:selectItems value="#{compareBean.sectors}" var="sector"
							itemValue="#{sector.id}" itemLabel="#{sector.name}"  />
						<f:ajax execute="change" render="@form table" listener="#{compareBean.SelectSector}"></f:ajax>
					</h:selectOneMenu></h:form>
				</div>
				<div class="col-md-9">
					<h:dataTable value="#{compareBean.companies}" var="l"
						class=" table table-striped table-bordered  active" id="table">
						<thead >
							<h:column> 
								<f:facet name="header" >  Bank list</f:facet>
								#{l.name}
							</h:column>
							<h:column> 
								<f:facet name="header" >Price</f:facet>
								#{l.quotation.closingPrice}
							</h:column>
							<h:column> 
								<f:facet name="header" >  Estimation</f:facet>
								#{l.quotation.estimation}
							</h:column>
							<h:column> 	
								<f:facet name="header" > Choose</f:facet>
								<h:form><h:commandLink action="#{compareBean.selectCompany2(l)}"  ><span class="glyphicon glyphicon-ok active"></span>
								<f:ajax render="table" execute="@form"></f:ajax>
								<h:outputText value="Companie added" rendered="#{l.selected}" id="message"/>
								</h:commandLink></h:form>
								
							</h:column>
						</thead>
					</h:dataTable>
					
				</div>
			</div>
		</div>
	</div>
	<br/>
	<div class="row">
	<div class="pull-right btn btn-success btn-lg "><a href="#{request.contextPath}/user/CompareBySector/sreenerCompare.xhtml">Compare Companies <span class="glyphicon glyphicon-chevron-right"> </span> </a> </div>
	 </div>
</ui:composition>