<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:jsf="http://java.sun.com/jsf"
	xmlns:p="http://xmlns.jcp.org/jsf/passthrough">

	<h:dataTable class="datatable table table-striped table-bordered"
		value="#{buyShareManagedBean.buyShares}" var="ex"
		headerClass="alert alert-info">
		<thead>
			<h:column>
				<f:facet name="header">Company Name</f:facet>
			#{ex.share.company.name}
			
	
	</h:column>
			<h:column>
				<f:facet name="header">Opening Price</f:facet>
			#{ex.share.opningPrice}
	
	</h:column>
			<h:column>
				<f:facet name="header">Last Value</f:facet>
			#{ex.share.closingPrice}
	
	</h:column>

			<h:column>
				<f:facet name="header">Highest Price</f:facet>
			#{ex.share.highestPrice}
	
	</h:column>
			<h:column>
				<f:facet name="header">Lowest Price</f:facet>
			#{ex.share.lowestPrice}
	
	</h:column>
			<h:column>
				<f:facet name="header">Estimation</f:facet>
			#{ex.share.estimation}
	
	</h:column>
			<h:column>
				<f:facet name="header">Buy</f:facet>
				<h:form class="form-inline" id="buy">
					<h:inputText p:type="number" p:min="1" value="#{ex.opVolume}"
						class="form-control" p:placeholder="#{buyShareManagedBean.holder}" />



					<h:commandLink action="#{buyShareManagedBean.buyShare(ex)}"
						type="submit" class="btn">
						<f:ajax execute="@form" render="@form"></f:ajax>
						<span class="glyphicon glyphicon-shopping-cart"></span>
					</h:commandLink>
					<h:form rendered="#{buyShareManagedBean.opMessage}">
						<div class="alert alert-success alert-dismissible" role="alert">
							<button type="button" class="close" data-dismiss="alert"
								aria-label="Close">
								<span aria-hidden="true" class="glyphicon glyphicon-remove"></span>
							</button>
							<strong>Operation success :)</strong>
							<p>you spent #{buyShareManagedBean.opValue} TND and your
								actual portfolio value is
								#{buyShareManagedBean.customer.portfolio.value} TND</p>
						</div>
					</h:form>
				</h:form>

			</h:column>
		</thead>
	</h:dataTable>

</ui:composition>